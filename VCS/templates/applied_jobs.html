{% extends 'base.html' %}

{% block content %}
<div class="px-6 py-12 bg-gray-200">

    <h1 class="text-3xl font-bold mb-10 text-center text-blue-500">
        ğŸ’¾ Applied Jobs
    </h1>

    {% if applications %}
    <div class="max-w-7xl mx-auto grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
        {% for app in applications %}
        <!-- Job Card -->
        <a href="{% url 'application_tracker' app.id %}" class="block group">
            <div class="bg-white border rounded-xl p-6 shadow hover:shadow-2xl
                        transition-transform transform hover:-translate-y-1 hover:scale-102
                        hover:bg-indigo-50 cursor-pointer h-full flex flex-col justify-between">

                <div class="flex justify-between items-start">
                    <div>
                        <h2 class="text-xl font-semibold text-blue-500 group-hover:text-indigo-600 transition">
                            {{ app.job.job_title }}
                        </h2>
                        <p class="text-gray-500">{{ app.job.company_name }}</p>
                    </div>
                    <span class="text-sm text-gray-400">
                        {{ app.applied_at|date:"d M Y" }}
                    </span>
                </div>

                <!-- Job Details -->
                <div class="grid md:grid-cols-2 gap-2 mt-4 text-sm text-gray-600">
                    <p><strong>ğŸ“ Location:</strong> {{ app.job.location }}</p>
                    <p><strong>ğŸ’¼ Experience:</strong> {{ app.job.experience }}</p>
                    <p><strong>ğŸ’° Salary:</strong> {{ app.job.salary_range }}</p>
                </div>

                <!-- Status -->
                <div class="mt-4">
                    <span class="
                        px-3 py-1 rounded text-white text-sm
                        {% if app.status == 'APPLIED' %} bg-blue-500
                        {% elif app.status == 'VIEWED' %} bg-yellow-500
                        {% elif app.status == 'WAITING' %} bg-purple-500
                        {% elif app.status == 'REJECTED' %} bg-red-500
                        {% elif app.status == 'HIRED' %} bg-green-500
                        {% endif %}
                    ">
                        {{ app.get_status_display }}
                    </span>
                </div>

            </div>
        </a>
        {% endfor %}
    </div>

    {% else %}
    <p class="text-center text-gray-500 mt-10">
        You havenâ€™t applied any jobs yet.
    </p>
    {% endif %}

</div>
{% endblock %}

{% extends 'base.html' %}
{% load socialaccount %}

{% block content %}
<body>
<section class="relative overflow-hidden min-h-screen flex items-center justify-center">
<div class="absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 animate-gradient"></div>
    <div class="absolute top-20 left-10 w-72 h-72 bg-white opacity-10 rounded-full animate-float"></div>
    <div class="absolute bottom-20 right-10 w-96 h-96 bg-white opacity-10 rounded-full animate-float-slow"></div>

<div class="relative bg-white p-8 rounded-lg shadow-md w-full max-w-md">

    <h2 class="text-2xl font-bold text-center mb-6">Login</h2>

    {% if error %}
    <script>
        alert("{{ error }}");
    </script>
    {% endif %}
    <form method="post" class="space-y-4">
        {% csrf_token %}

        <div>
            <label class="block text-sm font-medium">Username</label>
            <input type="text" name="username" required
                   class="w-full mt-1 px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-400">
        </div>

        <div>
            <label class="block text-sm font-medium">Password</label>
            <input type="password" name="password" required
                   class="w-full mt-1 px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-400">
        </div>

        {% if form.errors %}
        <p class="text-red-500 text-sm">Invalid username or password</p>
        {% endif %}

        <button type="submit"
                class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition">
            Login
        </button>
    </form>

    <hr class="my-4">

    {% if not user.is_authenticated %}
        <a href="{% provider_login_url 'google' openid='https://www.google.com/accounts/o8/id' next='/home' %}"
            class="flex items-center justify-center gap-3 w-full max-w-sm px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-700 font-medium shadow-sm
                hover:bg-gray-50 hover:shadow-md transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500">

            <!-- Google SVG -->
            <svg class="w-5 h-5" viewBox="0 0 48 48">
                <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.23 9.21 3.64l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.44 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
                <path fill="#4285F4" d="M46.1 24.55c0-1.64-.15-3.21-.43-4.73H24v9.02h12.43c-.54 2.9-2.18 5.36-4.64 7.04l7.15 5.54C43.07 37.45 46.1 31.64 46.1 24.55z"/>
                <path fill="#FBBC05" d="M10.54 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.98-6.19z"/>
                <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.9-5.81l-7.15-5.54c-1.98 1.34-4.51 2.13-8.75 2.13-6.26 0-11.57-4.22-13.46-9.91l-7.98 6.19C6.44 42.62 14.62 48 24 48z"/>
            </svg>

            <span>Sign in with Google</span>
        </a>
        {% endif %}


    <p class="text-center text-sm mt-4">
        Donâ€™t have an account?
        <a href="/signup/" class="text-blue-600 font-semibold">Sign up</a>
    </p>
</div>
</section>

</body>
{% endblock %}
